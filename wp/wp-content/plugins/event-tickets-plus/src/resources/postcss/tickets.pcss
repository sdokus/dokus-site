@import 'utilities/_all.pcss';

.tribe-event-tickets-meta-required-message {
	color: red;
	display: none;
	margin: 0;
	padding: 10px;
}

.tribe-event-tickets-plus-meta-missing-required .tribe-event-tickets-meta-required-message {
	display: block;
}

.tribe-tickets-meta {
	margin-bottom: 10px;
}

.tribe-event-tickets-plus-meta-fields {
	counter-reset: section;
}

.tribe-event-tickets-plus-meta-attendee {
	border-bottom: 1px solid #eee;
	counter-increment: section;
	padding: 10px 10px 15px;

	&:last-child {
		border-bottom: 0;
	}

	> header {
		color: #aaa;
		display: block;
		font-size: 0.8em;
		letter-spacing: 1px;
		text-transform: uppercase;

		&:after {
			content: ' ' counter(section);
		}
	}
}

.tribe-tickets-meta-field-header {
	display: block;
	font-weight: var(--tec-font-weight-regular);
}

.tribe-tickets-meta-fieldset {
	header h3 {
		margin: 0;
	}
}

.tribe-tickets-meta-required {
	header,
	label {
		position: relative;
		width: max-content;
	}

	header h3 {
		margin: 0;
	}

	header:first-child:after,
	label:first-child:after {
		color: red;
		content: '*';
		margin-left: 0.5em;
		position: absolute;
		right: -0.75em;
		top: 0;
	}

	.tribe-options {
		label:first-child:after {
			content: '';
		}
	}
}

#ticket_global_stock {
	.ticket_field {
		display: block;
		margin-left: 132px;
	}
}

/**
 * Theme Specific rules
 */
.tribe-theme-twentyfifteen #tribe-events-content .tribe-events-tickets input[type='number'] {
	width: 100%;
}

/* * List of Attendees */

.tribe-attendees-list {
	display: table;
	list-style: none;
	margin-left: 0;
	margin-right: 0;
	padding-left: 0;
	padding-right: 0;
}

.tribe-attendees-list-item {
	display: block;
	float: left;
	margin: 0;
	padding: 0;

	.avatar {
		display: block;
	}

	> span {
		display: block;
		margin-bottom: 5px;
		margin-right: 5px;

		&.tribe-attendees-list-hidden {
			display: none;
		}
	}
}

#tribe-events-content a.tribe-attendees-list-showall,
a.tribe-attendees-list-showall {
	box-shadow: none;
	display: block;
	outline: 0;
	overflow: hidden;
	position: relative;
	text-decoration: none;
}

.tribe-attendees-list-container {

	a.tribe-attendees-list-showall {

		img {
			display: inline-block;
		}

		&.avatar {

			&:hover:before {
				background-color: #ddd;
			}

			&:before {
				background-color: #eee;
				bottom: 0;
				content: '';
				display: block;
				left: 0;
				position: absolute;
				right: 0;
				top: 0;
			}

			&:after {
				color: #444;
				content: '\f132';
				display: block;
				font-family: 'dashicons', sans-serif;
				font-size: 22px;
				height: 0;
				left: 0;
				line-height: 0;
				position: absolute;
				right: 0;
				text-align: center;
				top: 52%;
			}
		}
	}

	&.tribe-attendees-list-showjs {
		a.tribe-attendees-list-showall.avatar:after {
			content: '\f460';
		}

		.tribe-attendees-list-item > span.tribe-attendees-list-hidden {
			display: block;
		}
	}
}

.tribe-tickets-attendees-list-optout {
	align-items: center;
	display: flex;
	flex-flow: row wrap;

	input[type="radio"] + label,
	input[type="checkbox"] + label {
		display: inline-block;
		font-size: var(--tec-font-size-2);
		margin: 0;
	}

	input[type='checkbox'] {
		height: var(--tec-spacer-3);
		width: var(--tec-spacer-3);
	}
}

.tribe-rsvp,
.tribe-tickets ul.tribe-orders-list {
	list-style: none;
	margin: 0;
	padding: 0;

	> .tribe-item {
		margin-top: 20px;
	}

	.tribe-rsvp-list,
	.tribe-tickets-list {
		list-style: none;
		margin: 0;
		padding: 0;

		> .tribe-item {
			background-color: var(--tec-color-background);
			border: 1px solid #ededed;
			border-bottom: 0;
			padding: 20px;

			&:last-child {
				border-bottom: 1px solid #ededed;
			}

			&.tribe-disabled {
				background-color: #efefef;
				border-color: #ddd;
				color: #717171;

				&:last-child {
					border-bottom-color: #ddd;
				}
			}

			.tribe-ticket-information {
				display: inline-block;
				float: right;
			}

			.tribe-answer {
				display: block;
				float: right;
			}

			table {
				border: 0;
				margin: 0;
			}

			td {
				border: 0;
			}

			div.tribe-event-tickets-plus-meta {
				flex: 0 1 100%;
				margin-top: var(--tec-spacer-1);
				order: 4;
			}
		}
	}
}

/* Attendee Meta on orders-tickets.php */

.attendee-meta.toggle {
	color: var(--tec-color-accent-primary);
	cursor: pointer;
	display: block;
	font-family: var(--tec-font-family-sans-serif);
	font-size: var(--tec-font-size-3);
	font-weight: var(--tec-font-weight-regular);
	line-height: var(--tec-line-height-0);

	&:before {
		content: '+ ';
	}

	&.on:before {
		content: '- ';
	}

	&:hover {
		color: var(--tec-color-accent-primary-hover);
	}
}

div.attendee-meta-row {
	display: none;
	margin-top: var(--tec-spacer-2);
}

/* Attendee meta fields */

/*
	Tribe Horizontal Datepicker (Day, Month, Year)
*/
.tribe_horizontal_datepicker__container {

	label {
		width: 100%;

		/* Attendee Registration Page */
		#tribe-tickets__registration__form & {
			width: 100%;
		}
	}

	.tribe-field.tribe-tickets__item__attendee__field__birth {
		width: 100%;
	}

	.tribe_horizontal_datepicker {
		margin-bottom: var(--tec-spacer-1);
		margin-top: var(--tec-spacer-1);
		min-width: 80px;
		width: 100%;

		&:not(:last-child) {
			margin-right: var(--tec-spacer-1);
		}

		select {
			@mixin mobile-body-2;

			appearance: none;
			background-color: var(--tec-color-background);
			background-image: url('../images/select.png');
			background-position: right center;
			background-repeat: no-repeat;
			background-size: 33px 33px;
			border: 1px solid var(--tec-form-color-border-secondary);
			border-radius: var(--tec-border-radius-default);
			height: auto;
			padding: 10px;
			width: 100%;

			&:focus {
				border-color: var(--tec-color-accent-secondary-hover);
			}

			&.ticket-meta__has-error {
				border-color: var(--tec-color-icon-error) !important;
			}
		}
	}
}

@media (--viewport-small) {
	.tribe_horizontal_datepicker__container {
		.tribe_horizontal_datepicker {
			display: inline-block;
			max-width: 280px;
			width: calc((100% / 3) - var(--tec-spacer-1));
		}
	}
}

.tribe-events-tickets-rsvp .tribe-event-tickets-plus-meta {
	label {
		display: block;
		font-weight: var(--tec-font-weight-regular);
	}

	input[type="text"],
	input[type="email"],
	input[type="url"],
	input[type="password"],
	textarea {
		background: white;
		margin-top: 0.5em;
		width: 100%;

		@media (min-width: 768px) {
			width: 50%;
		}
	}

	select {
		background: white;
		border: 1px solid #ddd;
	}
}

input[type=checkbox].tribe_show_attendees {
	margin-left: 0.4em;
}

/* = EDD CSS
============================================= */
.edd.quantity {
	font-size: 15px;
	padding: 16px 10px;

	@media (min-width: 768px) {
		width: 132px;
	}
}

.tribe-checkout-backlinks {
	align-items: flex-start;
	display: flex;
	flex-flow: column wrap;
	justify-content: space-between;

	@media (min-width: 768px) {
		flex-flow: row wrap;
	}
}

.tribe-checkout-backlinks a.tribe-checkout-backlink {
	box-shadow: unset;
	margin-bottom: 0.75em;
	text-decoration: none;

	&:before {
		content: '\f341';
		font-family: 'dashicons', sans-serif;
		margin-right: 5px;
		vertical-align: middle;
	}
}
